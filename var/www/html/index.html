<!DOCTYPE html>
<html>

<head>
  <meta charset="utf8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MusGen</title>
  <link rel="icon" type="image/png" href="assets/clef.png">
  <script src="https://cdn.jsdelivr.net/npm/webmidi"></script>
  <script type='text/javascript' src='//www.midijs.net/lib/midi.js'></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous">
  </script>
  <link rel="stylesheet" type="text/css" href="style/style.css">

<body>
  <div class="jumbotron">
    <h2>MusGen: </h2>
    <h3>An improvisational music generator using Magenta's ImprovRNN model</h3>
  </div>

  <div class="container justify-content-center" id="appContainer">
    <div id="musicFrame">
    </div>

    <br>

    <h6>Chords</h6>

    <div class="row" id="addChord">

      <div class="chordGroup d-none">
        <div class="dropdown d-inline chordName">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">Note</button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
            <a class="dropdown-item">Ab</a>
            <a class="dropdown-item">A</a>
            <a class="dropdown-item">A#</a>
            <a class="dropdown-item">Bb</a>
            <a class="dropdown-item">B</a>
            <a class="dropdown-item">B#</a>
            <a class="dropdown-item">Cb</a>
            <a class="dropdown-item">C</a>
            <a class="dropdown-item">C#</a>
            <a class="dropdown-item">Db</a>
            <a class="dropdown-item">D</a>
            <a class="dropdown-item">D#</a>
            <a class="dropdown-item">Eb</a>
            <a class="dropdown-item">E</a>
            <a class="dropdown-item">E#</a>
            <a class="dropdown-item">Fb</a>
            <a class="dropdown-item">F</a>
            <a class="dropdown-item">F#</a>
            <a class="dropdown-item">Gb</a>
            <a class="dropdown-item">G</a>
            <a class="dropdown-item">G#</a>
          </div>
        </div>
        <div class="dropdown d-inline chordMod">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">Type</button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
            <a class="dropdown-item">sus2</a>
            <a class="dropdown-item">maj</a>
            <a class="dropdown-item">m</a>
            <a class="dropdown-item">sus4</a>
            <a class="dropdown-item">aug</a>
            <a class="dropdown-item">dim</a>
            <a class="dropdown-item">6</a>
            <a class="dropdown-item">m6</a>
            <a class="dropdown-item">7</a>
            <a class="dropdown-item">maj7</a>
            <a class="dropdown-item">m7</a>
            <a class="dropdown-item">aug7</a>
            <a class="dropdown-item">dim7</a>
            <a class="dropdown-item">9</a>
            <a class="dropdown-item">add9</a>
            <a class="dropdown-item">maj9</a>
            <a class="dropdown-item">m9</a>
            <a class="dropdown-item">13</a>
            <a class="dropdown-item">maj13</a>
            <a class="dropdown-item">m13</a>
          </div>
        </div>
      </div>

      <div class="chordGroup">
        <div class="dropdown d-inline chordName">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">Note</button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
            <a class="dropdown-item">Ab</a>
            <a class="dropdown-item">A</a>
            <a class="dropdown-item">A#</a>
            <a class="dropdown-item">Bb</a>
            <a class="dropdown-item">B</a>
            <a class="dropdown-item">B#</a>
            <a class="dropdown-item">Cb</a>
            <a class="dropdown-item">C</a>
            <a class="dropdown-item">C#</a>
            <a class="dropdown-item">Db</a>
            <a class="dropdown-item">D</a>
            <a class="dropdown-item">D#</a>
            <a class="dropdown-item">Eb</a>
            <a class="dropdown-item">E</a>
            <a class="dropdown-item">E#</a>
            <a class="dropdown-item">Fb</a>
            <a class="dropdown-item">F</a>
            <a class="dropdown-item">F#</a>
            <a class="dropdown-item">Gb</a>
            <a class="dropdown-item">G</a>
            <a class="dropdown-item">G#</a>
          </div>
        </div>
        <div class="dropdown d-inline chordMod">
          <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">Type</button>
          <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
            <a class="dropdown-item">sus2</a>
            <a class="dropdown-item">maj</a>
            <a class="dropdown-item">m</a>
            <a class="dropdown-item">sus4</a>
            <a class="dropdown-item">aug</a>
            <a class="dropdown-item">dim</a>
            <a class="dropdown-item">6</a>
            <a class="dropdown-item">m6</a>
            <a class="dropdown-item">7</a>
            <a class="dropdown-item">maj7</a>
            <a class="dropdown-item">m7</a>
            <a class="dropdown-item">aug7</a>
            <a class="dropdown-item">dim7</a>
            <a class="dropdown-item">9</a>
            <a class="dropdown-item">add9</a>
            <a class="dropdown-item">maj9</a>
            <a class="dropdown-item">m9</a>
            <a class="dropdown-item">13</a>
            <a class="dropdown-item">maj13</a>
            <a class="dropdown-item">m13</a>
          </div>
        </div>
      </div>
    </div>

    <br>

    <div id="add-rm">
      <button class="btn-sm btn-secondary" id="addBtn">Add</button>
      <button class="btn-sm btn-secondary" id="removeBtn">Remove</button>
    </div>
    
    <br>

    <div id="melodyControls">
      <button class="btn btn-lg btn-primary" id="melodyBtn">Get Melody</button>

      <br>
      <a id="filename" href=""></a>
      <br>

      <button id="playBtn" class="btn-sm btn-primary"
        onclick="MIDIjs.play('./midi/'+document.getElementById('filename').innerHTML);">Play!</button>
      <button id="stopBtn" class="btn-sm btn-primary" onclick="MIDIjs.stop();">Stop!</button>
    </div>
  </div>

  <br>

  <div class="container" id="textContainer">
    <h3>About MusGen</h3>
    <p>MusGen is a web utility which allows musicians and composers to input possible chord progressions and 
      receive an intelligently generated melody based on the input progressions. The application operates with a 
      client-server architecture and is usable via the web browser on almost any platform, device, or screen size. 
      MusGen employs Magenta’s ImprovRNN on the server-side, a recurrent neural network model which produces a relevant 
      melodic output in the form of MIDI data. This model was trained on a large collection of lead sheets for 
      established musical works. Using the trends and relationships found in this training data, the model is able 
      to appropriately “compose” melodies which correspond musically to the given chords. The generated melodic ideas 
      are served to the user both in MIDI format and visually in the form of sheet music. The application's outputs are 
      intended to spark new musical concepts or be re-purposed in a user's compositions.</p>
    
  </div>

  <script src="javascript/mag.js"></script>

</body>
</html>